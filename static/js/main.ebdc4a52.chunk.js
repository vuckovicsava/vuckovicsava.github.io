(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(93)},41:function(e,t,a){},8:function(e,t){e.exports="data:image/png;base64,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"},93:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),A=a(24),c=a.n(A),l=(a(41),a(95)),i=a(97),o=a(96),s=a(33),g=a(25),E=a(26),u=a(32),m=a(27),f=a(34),v=a(28),P=a.n(v),C=n.a.createContext(),B=function(e){function t(){var e,a;Object(g.a)(this,t);for(var r=arguments.length,n=new Array(r),A=0;A<r;A++)n[A]=arguments[A];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={allAircrafts:[],shownAircrafts:[],activeAircraft:null,lat:null,lng:null,fetching:!1,error:"",activePage:1,itemsPerPage:15,pageRangeDisplayed:5},a.getAircraftList=function(){var e="https://cors-anywhere.herokuapp.com/https://public-api.adsbexchange.com/VirtualRadar/AircraftList.json?lat=".concat(a.state.lat,"&lng=").concat(a.state.lng,"&fDstL=0&fDstU=1000");a.setState({fetching:!0}),P.a.get(e).then(function(e){return e.data}).then(function(e){var t=a.state.activePage*a.state.itemsPerPage,r=t-a.state.itemsPerPage;a.setState({allAircrafts:e.acList,shownAircrafts:e.acList.slice(r,t),fetching:!1})}).catch(function(){return a.setState({error:"An error occured while fetching data, please try again later"})})},a.getGeolocationData=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){a.setState({lat:e.coords.latitude,lng:e.coords.longitude},function(){a.getAircraftList(),setInterval(a.getAircraftList,6e4)})},function(e){return a.setState({error:"Geolocation has to be enabled in order to get flights data "})}):a.setState({error:"Geolocation is not supported by your browser."})},a.handlePageChange=function(e){a.setState({activePage:e},function(){var e=a.state.activePage*a.state.itemsPerPage,t=e-a.state.itemsPerPage;a.setState({shownAircrafts:a.state.allAircrafts.slice(t,e)})})},a.setActiveAircraft=function(e){a.setState(function(t){return{activeAircraft:t.allAircrafts.find(function(t){return t.Id===e})}})},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=Object(s.a)({},this.state,{getGeolocationData:this.getGeolocationData,handlePageChange:this.handlePageChange,setActiveAircraft:this.setActiveAircraft});return n.a.createElement(C.Provider,{value:e},this.props.children)}}]),t}(r.Component),d=C.Consumer,h=a(29),w=a(30),I=a.n(w),D=a(94),p=a(8),Q=a.n(p),M=function(e){var t=e.aircraft,a=t.Id,r=t.Op,A=t.Cou,c=t.Year,l=t.Man;return n.a.createElement(d,null,function(e){var t=e.setActiveAircraft;return n.a.createElement("tr",null,n.a.createElement("td",null,a),n.a.createElement("td",{className:"hide-on-md"},n.a.createElement("img",{src:r?"https://logo.clearbit.com/".concat(r.toLowerCase().replace(/\s/g,""),".com"):Q.a,onError:function(e){return e.target.src=Q.a},alt:r})),n.a.createElement("td",null,A||"Not Available"),n.a.createElement("td",null,c||"Not Available"),n.a.createElement("td",null,l||"Not Available"),n.a.createElement("td",null,n.a.createElement(D.a,{to:"/aircraft/".concat(a),onClick:function(){return t(a)}},"Details")))})},b=function(e){var t=e.aircrafts;return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement("table",{className:"aircraft-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",{className:"hide-on-md"},"Company"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Year"),n.a.createElement("th",null,"Manufacturer"),n.a.createElement("th",null,"More Details"))),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement(M,{key:e.Id,aircraft:e})}))))},G=function(){return n.a.createElement(d,null,function(e){var t=e.getGeolocationData,a=e.fetching,r=e.activePage,A=e.itemsPerPage,c=e.allAircrafts,l=e.pageRange,i=e.handlePageChange,o=e.shownAircrafts,s=e.error;return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"title"},"React Task Four"),n.a.createElement("button",{className:"btn",onClick:t},"Get Aircraft Data"),a&&n.a.createElement("div",{className:"spinner"},n.a.createElement(h.ClipLoader,{sizeUnit:"px",size:100,color:"#123abc",loading:a})),s&&n.a.createElement("div",{className:"error-msg"},s),o.length>0&&!a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{activePage:r,itemsCountPerPage:A,totalItemsCount:c.length,pageRangeDisplayed:l,onChange:i,firstPageText:"First",lastPageText:"Last",prevPageText:"Prev",nextPageText:"Next"}),n.a.createElement(b,{aircrafts:o})))})},x=function(){return n.a.createElement(d,null,function(e){var t=e.activeAircraft;if(!t)return n.a.createElement("div",{className:"error-msg"},"No Active Aircraft");var a=t.Id,r=t.From,A=t.To,c=t.Cou,l=t.Man,i=t.Op,o=t.Type,s=t.Year;return n.a.createElement("div",{className:"active-aircraft container"},n.a.createElement("img",{src:i?"https://logo.clearbit.com/".concat(i.toLowerCase().replace(/\s/g,""),".com"):Q.a,onError:function(e){return e.target.src=Q.a},alt:i}),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"ID"),":",n.a.createElement("span",null,a||"Not Available")),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"From"),":",n.a.createElement("span",null,r||"Not Available")),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"To"),":",n.a.createElement("span",null,A||"Not Available")),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"Country"),":",n.a.createElement("span",null,c||"Not Available")),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"Manufacturer"),":",n.a.createElement("span",null,l||"Not Available")),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"Type"),":",n.a.createElement("span",null,o||"Not Available")),n.a.createElement("div",{className:"data-row"},n.a.createElement("strong",null,"Year"),":",n.a.createElement("span",null,s||"Not Available")),n.a.createElement(D.a,{to:"/"},"Back to all aircrafts"))})},N=function(){return n.a.createElement(B,null,n.a.createElement(l.a,null,n.a.createElement(i.a,null,n.a.createElement(o.a,{exact:!0,path:"/",component:G}),n.a.createElement(o.a,{path:"/aircraft/:id",component:x}))))};c.a.render(n.a.createElement(N,null),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.ebdc4a52.chunk.js.map